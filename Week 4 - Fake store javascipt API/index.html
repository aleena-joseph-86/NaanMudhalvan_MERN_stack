<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Advanced Javascript</title>

    <style>
      body {
        text-align: center;
      }
    </style>
  </head>
  <body>
    <p id="print"></p>
    <img id="image1" alt="Image of green forest" />

    <div id="container"></div>
    <div id="container1"></div>
    <script>
      console.log(myFunc()); // example of what an async function returns

      // creation of promises
      let Booking = new Promise((resolve, reject) => {
        let Booked = true;

        if (Booked) {
          resolve();
        } else {
          reject();
        }
      })
        .then((result) => console.log("Executed")) // associated with resolve()
        .catch((error) => console.log("Failed")); // associated with reject()

      //creation of objects
      let details = {
        id: 1,
        img_url:
          "https://media.istockphoto.com/id/670536592/photo/green-forest-in-spring.jpg?s=612x612&w=0&k=20&c=mh3x_eCI7evwjGHO3YuZYTK2l7kImPHI-g53R99sgFI=",
      };

      // display the object in the console
      console.log(details.id);
      console.log(details.img_url);

      //display the object in the ui
      document.getElementById("print").innerText = `${details.id}`;
      document.getElementById("image1").src = `${details.img_url}`;

      async function myFunc() {
        return 1;
      }

      function text() {
        return new Promise((resolve, reject) => {
          resolve("message from text");
        });
      }

      async function sended() {
        const msg = await text()
          .then((result) => console.log(result, "\n\n", "success"))
          .catch((error) => console.log("failed"));
      }

      sended();

      // fetch("https://fakestoreapi.com/products/1")
      //   .then((res) => res.json())
      //   .then((data) => {
      //     console.log(data);
      //     console.log(data.id, data.description);
      //     let con = document.getElementById("container");
      //     con.innerHTML = `
      //     <p>${data.id}<p>
      //     <p>${data.description}<p>
      //       <img src=${data.image} style="width: 500px ; height: 500px" />
      //       `;
      //   });

      // fetch("https://jsonplaceholder.typicode.com/todos/1")
      //   .then((response) => response.json())
      //   .then((data) => {
      //     console.log(data);
      //     let con = document.getElementById("container");
      //     con.innerHTML = `
      //     <p>${data.id}<p>
      //     <p>${data.userId}<p>
      //     <p>${data.title}<p>
      //     <p>${data.completed}<p>
      //       `;
      //   });

      fetch("https://fakestoreapi.com/products")
        .then((res) => res.json())
        .then((data) => {
          console.log(data);
          data.forEach((item) => {
            console.log(item);
            let con = document.getElementById("container");
            con.innerHTML += `
             <p>${item.id}<p>
             <p>${item.description}<p>
            <img src=${item.image} style="width: 500px ; height: 500px" />
            `;
          });
        });
    </script>
  </body>
</html>
